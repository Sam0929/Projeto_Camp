{% extends "base.html" %}

{% block title %}Tabela Gerada{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="text-center">
        <h1 class="display-4">Tabela de Jogos</h1>
        <p class="lead">{{ mensagem }}</p>
        <hr class="my-4">
        <p>Campeonato: {{ campeonato.nome }}</p>
        <p>Data de início: {{ campeonato.data_inicio|date:"d/m/Y" }}</p>
        <p>Data de fim: {{ campeonato.data_fim|date:"d/m/Y" }}</p>
    </div>

    <!-- Adicione aqui outras informações da tabela, como os jogos gerados -->
    <div class="mt-4">
        {% for rodada in campeonato.rodadas.all %}
            <h3 class="mt-4">Rodada {{ rodada.numero }} - {{ rodada.data|date:"d/m/Y" }}</h3>
            <ul class="list-group mb-3">
                {% for jogo in rodada.jogos.all %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                            {{ jogo.time_casa.equipe }} vs {{ jogo.time_fora.equipe }}  
                            <small>({{ jogo.data_horario|date:"d/m/Y H:i" }})</small>
                        </div>
                        <div>
                            {% if jogo.resultado_jogo %}
                                <span class="badge bg-success rounded-pill">Resultado: {{ jogo.resultado_jogo.gols_time_casa }} - {{ jogo.resultado_jogo.gols_time_fora }}</span>
                            {% else %}
                                <span class="badge bg-secondary rounded-pill">Resultado: Não disponível</span>
                            {% endif %}
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% endfor %}
    </div>

    <div class="mt-4 text-center">
        <a href="{% url 'visualizar_tabela' campeonato.id %}" class="btn btn-success">Visualizar Tabela Completa</a>
    </div>
</div>
{% endblock %}
